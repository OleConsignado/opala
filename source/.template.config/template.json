{
  "$schema": "http://json.schemastore.org/template",
  "author": "Luciano Lima",
  "classifications": [
    "Common",
    "Library",
    "Web API"
  ],
  "name": "Hexagonal Architecture for .Net Applications",
  "identity": "Otc.ProjectModel",
  "shortName": "hexagonal",
  "v"
  "tags": {
    "language": "C#",
    "type": "project"
  },
  "sourceName": "Otc.ProjectModel",
  "preferNameDirectory": true,
  "symbols": {
    //EmailAdapter
    "EmailAdapter": {
      "type": "parameter",
      "datatype": "bool",
      "isRequired": false,
      "defaultValue": "true",
      "description": "Insert Email Adapter in the project"
    },
    "user-choice": {
      "type": "parameter",
      "datatype": "choice",
      "defaultValue": "full",
      "choices": [
        {
          "choice": "full",
          "description": "Full Solution with complete operations"
        },
        {
          "choice": "basic",
          "description": "Contains only Domain, Application, Test and WebApi projects"
        }
      ],
      "replaces": "user-choice",
      "onlyIf": [
        {
          "after": "\"user-choice\": \""
        }
      ]
    },
    "data-access": {
      "type": "parameter",
      "datatype": "choice",
      "defaultValue": "dapper",
      "choices": [
        {
          "choice": "dapper",
          "description": "Dapper"
        },
        {
          "choice": "entityframework",
          "description": "Entity Framework Core"
        },
        {
          "choice": "none",
          "description": "No frameworks"
        }
      ],
      "replaces": "data-access",
      "onlyIf": [
        {
          "after": "\"data-access\": \""
        }
      ]
    },
    "skip-restore": {
      "type": "parameter",
      "datatype": "bool",
      "description": "Run dotnet restore after code generation.",
      "defaultValue": "false",
      "replaces": "skip-restore",
      "onlyIf": [
        {
          "after": "\"skip-restore\": \""
        }
      ]
    },
    "Basic": {
      "type": "computed",
      "value": "(user-choice == \"basic\")"
    },
    "Full": {
      "type": "computed",
      "value": "(user-choice == \"full\")"
    },
    "EntityFramework": {
      "type": "computed",
      "value": "(data-access == \"entityframework\")"
    },
    "Dapper": {
      "type": "computed",
      "value": "(data-access == \"dapper\")"
    }
  },
  "sources": [
    {
      "modifiers": [
        {
          "condition": "(Full)",
          "exclude": []
        },
        {
          "condition": "(Basic)",
          "exclude": [
            "Otc.ProjectModel.Infra.EmailAdapter/**/*",
            "Otc.ProjectModel.Infra.NotificationAdapter/**/*",
            "Otc.ProjectModel.Infra.Repository/**/*"
          ]
        },
        {
          "condition": "(!EmailAdapter)",
          "exclude": [ "Otc.ProjectModel.Infra.EmailAdapter/**/*" ]
        }
      ]
    }
  ],
  "primaryOutputs": [
    {
      "path": "Otc.ProjectModel.Core.Application/Otc.ProjectModel.Core.Application.csproj"
    },
    {
      "path": "Otc.ProjectModel.Core.Domain/Otc.ProjectModel.Core.Domain.csproj"
    },
    {
      "path": "Otc.ProjectModel.Core.Test/Otc.ProjectModel.Core.Test.csproj"
    },
    {
      "path": "Otc.ProjectModel.Infra.EmailAdapter/Otc.ProjectModel.Infra.EmailAdapter.csproj"
    },
    {
      "path": "Otc.ProjectModel.Infra.NotificationAdapter/Otc.ProjectModel.Infra.NotificationAdapter.csproj"
    },
    {
      "path": "Otc.ProjectModel.Infra.Repository/Otc.ProjectModel.Infra.Repository.csproj"
    },
    {
      "path": "Otc.ProjectModel.WebApi/Otc.ProjectModel.WebApi.csproj"
    }
  ],
  "postActions": [
    {
      "actionId": "A2735C13-29F8-4BB4-9857-F1E07C164A68",
      "condition": "(user-choice == \"full\")",
      "args": {
        "primaryOutputIndexes": "0;1;2;3;4;5;6"
      },
      "continueOnError": true,
      "manualInstructions": [
        {
          "text": "Add projects to solution."
        }
      ]
    },
    {
      "condition": "(user-choice == \"basic\")",
      "actionId": "A2735C13-29F8-4BB4-9857-F1E07C164A68",
      "args": {
        "primaryOutputIndexes": "0;1;2;6"
      },
      "continueOnError": true,
      "manualInstructions": [
        {
          "text": "Add projects to solution."
        }
      ]
    }
  ]
}